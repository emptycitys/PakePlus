(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47a4ac8a"],{5220:function(e,t,s){},"62b3":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-4"},[s("h2",{staticClass:"text-lg font-semibold mb-4"},[e._v("ğŸ“¦ é¡µé¢ç‰ˆæœ¬ç¼“å­˜ç®¡ç†")]),s("el-form",{staticClass:"mb-6",attrs:{"label-width":"100px"}},[s("el-form-item",{attrs:{label:"æ“ä½œäººå§“å"}},[s("el-input",{attrs:{placeholder:"è¯·è¾“å…¥æ“ä½œäººå§“å"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("el-form-item",{attrs:{label:"å¤‡æ³¨"}},[s("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"è¾“å…¥å¤‡æ³¨ä¿¡æ¯"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),s("el-form-item",{staticClass:"button-row"},[s("el-button",{attrs:{type:"primary"},on:{click:e.saveVersion}},[e._v("ä¿å­˜å½“å‰ç‰ˆæœ¬")]),s("el-upload",{staticClass:"inline-upload",attrs:{"show-file-list":!1,accept:".json","before-upload":e.beforeImport,action:"#"}},[s("el-button",{attrs:{type:"success"}},[e._v("å¯¼å…¥è®°å½•")])],1),s("el-button",{attrs:{type:"warning"},on:{click:e.exportAllVersions}},[e._v("å¯¼å‡ºå…¨éƒ¨è®°å½•")]),s("el-button",{attrs:{type:"danger"},on:{click:e.clearAllCache}},[e._v("æ¸…é™¤æ‰€æœ‰ç¼“å­˜")])],1)],1),s("el-table",{key:e.versionList.length,staticStyle:{width:"100%"},attrs:{data:e.versionList,border:""}},[s("el-table-column",{attrs:{prop:"username",label:"æ“ä½œäººå§“å",width:"160"}}),s("el-table-column",{attrs:{prop:"remark",label:"å¤‡æ³¨"}}),s("el-table-column",{attrs:{prop:"time",label:"ç‰ˆæœ¬æ—¶é—´",width:"220"}}),s("el-table-column",{attrs:{label:"æ“ä½œ",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(s){return e.loadVersion(t.row)}}},[e._v("åŠ è½½")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.exportVersion(t.row)}}},[e._v("å¯¼å‡º")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.deleteVersion(t.row)}}},[e._v("åˆ é™¤")])]}}])})],1),e.versionList.length?e._e():s("div",{staticClass:"text-gray-500 text-sm mt-3"},[e._v(" æš‚æ— ç¼“å­˜è®°å½•ï¼Œè¯·ä¿å­˜åæŸ¥çœ‹ã€‚ ")])],1)},r=[],n=s("ade3"),o=(s("e9c4"),s("b64b"),s("d3b7"),s("ac1f"),s("3ca3"),s("5319"),s("ddb0"),s("2b3d"),s("bf19"),s("9861"),{name:"PageCache",data:function(){return{username:"",remark:""}},computed:{versionList:function(){return this.$store.getters["pageCache/getAllVersions"]}},methods:{saveVersion:function(){if(!this.username)return this.$message.warning("è¯·å¡«å†™æ“ä½œäººå§“å");this.$store.commit("pageCache/saveAllPagesVersion",{username:this.username,remark:this.remark}),this.$message.success("å·²ä¿å­˜å½“å‰ç‰ˆæœ¬")},loadVersion:function(e){this.$store.commit("pageCache/loadVersionByTime",e.time),this.$message.success("å·²åŠ è½½ç‰ˆæœ¬ï¼š".concat(e.time))},deleteVersion:function(e){var t=this;this.$confirm("ç¡®å®šè¦åˆ é™¤ç‰ˆæœ¬ ".concat(e.time," å—ï¼Ÿ"),"æç¤º").then((function(){t.$store.commit("pageCache/deleteVersion",e.time),t.$message.success("å·²åˆ é™¤è¯¥ç‰ˆæœ¬")}))},clearAllCache:function(){var e=this;this.$confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç‰ˆæœ¬ç¼“å­˜å—ï¼Ÿ","è­¦å‘Š",{type:"warning"}).then((function(){e.$store.commit("pageCache/clearAllCache"),e.username="",e.remark="",e.$message.success("æ‰€æœ‰ç¼“å­˜å·²æ¸…é™¤")})).catch((function(){}))},exportAllVersions:function(){var e=this.$store.state.pageCache.allVersions,t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(t),s.download="pageCache_all_versions.json",s.click(),URL.revokeObjectURL(s.href),this.$message.success("å·²å¯¼å‡ºå…¨éƒ¨ç‰ˆæœ¬è®°å½•")},exportVersion:function(e){var t=this.$store.state.pageCache.allVersions;console.log(t);var s=t[e.time];console.log(s);var a=Object(n["a"])({},e.time,s),r=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="pageCache_version_".concat(e.time.replace(/[: ]/g,"_"),".json"),o.click(),URL.revokeObjectURL(o.href),this.$message.success("å·²å¯¼å‡ºç‰ˆæœ¬ï¼š".concat(e.time))},beforeImport:function(e){var t=this,s=new FileReader;return s.onload=function(e){try{var s=JSON.parse(e.target.result);t.$store.commit("pageCache/importAllVersions",s),t.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(a){t.$message.error("æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼Œè¯·å¯¼å…¥æœ‰æ•ˆ JSON")}},s.readAsText(e),!1}}}),i=o,c=(s("c9b9"),s("2877")),l=Object(c["a"])(i,a,r,!1,null,"1a93348c",null);t["default"]=l.exports},c9b9:function(e,t,s){"use strict";s("5220")}}]);