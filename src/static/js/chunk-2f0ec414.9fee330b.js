(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f0ec414"],{"62b3":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-4"},[s("el-form",{staticClass:"mb-6",attrs:{"label-width":"100px"}},[s("el-form-item",{attrs:{label:"操作人姓名"}},[s("el-input",{attrs:{placeholder:"请输入操作人姓名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"输入备注信息"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.saveVersion}},[e._v("保存当前版本")]),s("el-button",{attrs:{type:"danger"},on:{click:e.clearAllCache}},[e._v("清除所有缓存")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.versionList,border:""}},[s("el-table-column",{attrs:{prop:"username",label:"操作人姓名",width:"160"}}),s("el-table-column",{attrs:{prop:"remark",label:"备注"}}),s("el-table-column",{attrs:{prop:"time",label:"版本时间",width:"220"}}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(s){return e.loadVersion(t.row)}}},[e._v("加载")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.deleteVersion(t.row)}}},[e._v("删除")])]}}])})],1),e.versionList.length?e._e():s("div",{staticClass:"text-gray-500 text-sm mt-3"},[e._v(" 暂无缓存记录，请保存后查看。 ")])],1)},r=[],n={name:"PageCache",data:function(){return{username:"",remark:""}},computed:{versionList:function(){return this.$store.getters["pageCache/getAllVersions"]}},methods:{saveVersion:function(){if(!this.username)return this.$message.warning("请填写操作人姓名");this.$store.commit("pageCache/saveAllPagesVersion",{username:this.username,remark:this.remark}),this.$message.success("已保存当前版本")},loadVersion:function(e){this.$store.commit("pageCache/loadVersionByTime",e.time),this.$message.success("已加载版本：".concat(e.time))},deleteVersion:function(e){var t=this;this.$confirm("确定要删除版本 ".concat(e.time," 吗？"),"提示",{type:"warning"}).then((function(){t.$store.commit("pageCache/deleteVersion",e.time),t.$message.success("已删除该版本")})).catch((function(){}))},clearAllCache:function(){var e=this;this.$confirm("确定要清空所有版本缓存吗？","警告",{type:"warning"}).then((function(){e.$store.commit("pageCache/clearAllCache"),e.username="",e.remark="",e.$message.success("所有缓存已清除")})).catch((function(){}))}}},i=n,c=(s("b678"),s("2877")),l=Object(c["a"])(i,a,r,!1,null,"5d51a78e",null);t["default"]=l.exports},b678:function(e,t,s){"use strict";s("f258")},f258:function(e,t,s){}}]);