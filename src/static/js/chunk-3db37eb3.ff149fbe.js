(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3db37eb3","chunk-03e394b4"],{"0e4b":function(t,a,e){"use strict";e("492a")},1:function(t,a){},2:function(t,a){},3:function(t,a){},4:function(t,a){},"492a":function(t,a,e){},5:function(t,a){},6:function(t,a){},"6c8a":function(t,a,e){"use strict";e("b0c0"),e("e9c4"),e("b64b");a["a"]={created:function(){var t=this.$store.getters["pageCache/getPageData"](this.$options.name);t&&(Object.assign(this.$data,JSON.parse(JSON.stringify(t))),console.log("恢复缓存：".concat(this.$options.name)))},beforeRouteLeave:function(t,a,e){this.$store.commit("pageCache/saveTempPageData",{page:this.$options.name,data:JSON.parse(JSON.stringify(this.$data))}),console.log("离开页面缓存：".concat(this.$options.name)),e()}}},7:function(t,a){},8:function(t,a){},9:function(t,a){},aee9:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"background-color":"#f5f7fa",padding:"20px","border-radius":"8px"}},[e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.downloadSample}},[t._v("下载导入模板")]),e("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:function(a){return t.$refs.excelInput.click()}}},[t._v("上传数据")]),e("input",{ref:"excelInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".xlsx, .xls"},on:{change:t.uploadExcel}})],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"2000px"},attrs:{data:t.tableData,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"土层参数","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"A",label:"层号","header-align":"center",align:"center",width:"30"}}),e("el-table-column",{attrs:{prop:"B",label:"土壤类型","header-align":"center",align:"center",width:"50"}}),e("el-table-column",{attrs:{prop:"C",label:"土层描述","header-align":"center",align:"center",width:"200"}}),e("el-table-column",{attrs:{label:"深度（m）","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"D",label:"层顶","header-align":"center",align:"center",width:"50"}}),e("el-table-column",{attrs:{prop:"E",label:"层底","header-align":"center",align:"center",width:"50"}})],1),e("el-table-column",{attrs:{prop:"F",label:"层厚（m）","header-align":"center",align:"center",width:"70"}}),e("el-table-column",{attrs:{prop:"G",label:"相对密实度（%）","header-align":"center",align:"center",width:"110"}}),e("el-table-column",{attrs:{prop:"H",label:"有效重度（kN/m³）","header-align":"center",align:"center",width:"90"}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("有效重度<br>（kN/m³）")}})])],2),e("el-table-column",{attrs:{label:"设计抗剪强度（kPa）","header-align":"center",align:"center","min-width":"140"}},[e("el-table-column",{attrs:{prop:"I",label:"层顶","header-align":"center",align:"center","min-width":"70"}}),e("el-table-column",{attrs:{prop:"J",label:"层底","header-align":"center",align:"center","min-width":"70"}})],1),e("el-table-column",{attrs:{prop:"K",label:"内摩擦角","header-align":"center",align:"center"}}),e("el-table-column",{attrs:{prop:"L",label:"侧阻力参数(β)（砂土/查表）","header-align":"center",align:"center"}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("侧阻力参数β<br>（砂土/查表）")}})])],2),e("el-table-column",{attrs:{prop:"M",label:"侧摩阻力限值（fmax/kpa）","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.M)}}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("侧摩阻力限值<br>（f<sub>max</sub>/kpa）")}})])],2),e("el-table-column",{attrs:{prop:"N",label:"Nq（砂土/查表）","header-align":"center",align:"center"}}),e("el-table-column",{attrs:{prop:"O",label:"端阻力限值（qmax/kpa）","header-align":"center",align:"center"}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("端阻力限值<br>（q<sub>max</sub>/kpa）")}})])],2)],1)],1)],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"2000px"},attrs:{data:t.tableData1,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"桩尺寸参数","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"K",label:"","header-align":"center",align:"center","min-width":"120",formatter:function(a){return t.formatNumber(a.K)}}}),e("el-table-column",{attrs:{prop:"L",label:"外径","header-align":"center",align:"center","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<2?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.L,callback:function(e){t.$set(a.row,"L",e)},expression:"scope.row.L"}})],1):e("div",{staticClass:"readonly-cell"},[t._v(" "+t._s(a.row.L)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"M",label:"壁厚","header-align":"center",align:"center","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<2?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.M,callback:function(e){t.$set(a.row,"M",e)},expression:"scope.row.M"}})],1):e("div",{staticClass:"readonly-cell"},[t._v(" "+t._s(a.row.M)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"O",label:"长度","header-align":"center",align:"center","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.O,callback:function(e){t.$set(a.row,"O",e)},expression:"scope.row.O"}})],1):t._e()]}}])})],1)],1)],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData3,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{prop:"C32",label:"侧阻力折减系数","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.C32,callback:function(e){t.$set(a.row,"C32",e)},expression:"scope.row.C32"}})],1):e("div",{staticClass:"readonly-cell"},[t._v(" "+t._s(a.row.C32)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"C33",label:"端阻力折减系数","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.C33,callback:function(e){t.$set(a.row,"C33",e)},expression:"scope.row.C33"}})],1):e("div",{staticClass:"readonly-cell"},[t._v(" "+t._s(a.row.C33)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"AI",label:"内侧阻力折减系数","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<100?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.AI,callback:function(e){t.$set(a.row,"AI",e)},expression:"scope.row.AI"}})],1):e("div",{staticClass:"readonly-cell"},[t._v(" "+t._s(a.row.AI)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"AO",label:"土塞面积折减系数","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.$index<100?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:t.change},model:{value:a.row.AO,callback:function(e){t.$set(a.row,"AO",e)},expression:"scope.row.AO"}})],1):e("div",{staticClass:"readonly-cell"},[t._v(" "+t._s(a.row.AO)+" ")])]}}])})],1)],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"2000px"},attrs:{data:t.tableData2,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{prop:"A",label:"层号","header-align":"center",align:"center",fixed:"left",width:"80"}}),e("el-table-column",{attrs:{prop:"B",label:"土层细分","header-align":"center",align:"center",fixed:"left"}}),e("el-table-column",{attrs:{prop:"AW",label:"层深度（m）","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.AW)}}}),e("el-table-column",{attrs:{prop:"AH",label:"分段外侧摩阻力（kN）","header-align":"center",align:"center",width:"120",formatter:function(a){return t.formatNumber(a.AH)}}}),e("el-table-column",{attrs:{prop:"AN",label:"端阻力（开口）（kN）","header-align":"center",align:"center",width:"120",formatter:function(a){return t.formatNumber(a.AN)}}}),e("el-table-column",{attrs:{prop:"AQ",label:"端阻力（闭口）（kN）","header-align":"center",align:"center",width:"120",formatter:function(a){return t.formatNumber(a.AQ)}}}),e("el-table-column",{attrs:{label:"承载力计算","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"AS",label:"抗拉承载力MN（仅考虑外侧摩阻力）","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.AS)}}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("抗拉承载力MN<br>（仅考虑外侧摩阻力）")}})])],2),e("el-table-column",{attrs:{prop:"AT",label:"开口受压（各土层累计）（MN）","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.AT)}}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("开口受压<br>（各土层累计）（MN）")}})])],2),e("el-table-column",{attrs:{prop:"AU",label:"闭口受压MN（各土层累计）","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.AU)}}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:t._s("闭口受压MN<br>（各土层累计）")}})])],2),e("el-table-column",{attrs:{prop:"AV",label:"抗压承载力最终结果（MN）","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.AV)}}})],1)],1)],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"2000px"},attrs:{data:t.tableData4,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{prop:"A",label:"桩入泥深度下对应的承载力","header-align":"center",align:"center",formatter:function(a){return t.formatNumber(a.A)}}})],1)],1),e("div",{staticClass:"reference-link",on:{click:t.JumpToPdf}},[e("p",{staticClass:"reference-text"},[t._v("点击此处获取参数取值依据")])]),t.showPdf?e("PdfViewer",{attrs:{"pdf-name":t.pdfName},on:{close:function(a){t.showPdf=!1}}}):t._e()],1)},n=[],i=e("2909"),s=e("5530"),r=(e("d81d"),e("4e82"),e("8ba4"),e("b680"),e("d3b7"),e("25f0"),e("0643"),e("a573"),e("cc45")),o=e("6c8a"),c=e("1146"),b={name:"Page4A",components:{PdfViewer:r["default"]},mixins:[o["a"]],data:function(){return{showPdf:!1,pdfName:"",tableData:[],tableData1:[{K:"桩底尺寸",L:9.5,M:.086,O:41,T:613839.464650083}],tableData2:[],tableData3:[{C32:1.5,C33:1.4,AI:.667,AO:.6}],tableData4:[{A:null}],dialogVisible:!1,dialogVisible1:!1}},mounted:function(){this.load(),this.change()},methods:{formatNumber:function(t){return"number"===typeof t?Number.isInteger(t)?t.toString():t.toFixed(3):t},change:function(){this.load(),this.calculateTable2()},load:function(){var t;this.tableData1[0].N=parseFloat(this.tableData1[0].L)-2*parseFloat(this.tableData1[0].M),this.tableData1[0].P=Math.PI*(Math.pow(parseFloat(this.tableData1[0].L),2)-Math.pow(this.tableData1[0].N,2))/4*104.3*7850/1e3,this.tableData1[0].Q=91*(Math.PI*Math.pow(parseFloat(this.tableData1[0].L),2)/4-Math.PI*Math.pow(this.tableData1[0].N,2)/4)*1e3/1e3,this.tableData1[0].R=this.tableData1[0].P-this.tableData1[0].Q,this.tableData1[0].S=72.164,this.tableData1[0].U=this.tableData1[0].R+this.tableData1[0].S+this.tableData1[0].T/1e3+590,this.tableData1[0].V=1e3*this.tableData1[0].U*10/1e6;var a=null===(t=this.tableData1[0])||void 0===t?void 0:t.O;if(this.tableData2&&this.tableData2.length>0&&null!=a){var e=this.linearInterpolate(this.tableData2,a);this.tableData4[0].A=e,console.log("线性插值结果 =",e)}else this.tableData4[0].A=null},calculateTable2:function(){var t=0,a=0,e=0,l=0,n={A:null,B:null,C:null,D:null,E:null,F:null,G:null,H:null,I:null,J:null,K:null,L:null,M:null,N:null,O:null,P:null,Q:null,R:null,S:null,T:null,U:null,V:null,W:null,X:null,Y:null,Z:null,AA:null,AB:null,AC:null,AD:null,AE:null,AF:null,AG:null,AH:null,AI:null,AJ:null,AK:null,AL:null,AM:null,AN:null,AO:null,AP:null,AQ:null,AR:null,AS:null,AT:null,AU:null,AV:null,AW:null,C32:null,C33:null};console.log("this.tableData",this.tableData);for(var i=0;i<this.tableData.length;i++){var r,o,c,b,h,u;this.tableData2[i]||this.$set(this.tableData2,i,Object(s["a"])({},n)),this.tableData2[i].A=this.tableData[i].A,this.tableData2[i].G1=this.tableData[i].B,this.tableData2[i].B=null===(r=this.tableData[i])||void 0===r?void 0:r.F,null!=this.tableData2[i].B?(t+=this.tableData2[i].B,this.tableData2[i].C=t-this.tableData2[i].B/2):this.tableData2[i].C=null,this.tableData2[i].D=null===(o=this.tableData[i])||void 0===o?void 0:o.H,"粘土"===this.tableData2[i].G1?(this.tableData2[i].E=(this.tableData[i].I+this.tableData[i].J)/2,this.tableData2[i].F=this.tableData2[i].E/parseFloat(this.tableData3[0].C32),this.tableData2[i].G=this.tableData2[i].E/parseFloat(this.tableData3[0].C33)):"砂土"===this.tableData2[i].G1&&(this.tableData2[i].H=this.tableData[i].K,this.tableData2[i].I=180*Math.atan(Math.tan(this.tableData2[i].H*Math.PI/180/this.tableData3[0].C32))/Math.PI,this.tableData2[i].J=180*Math.atan(Math.tan(this.tableData2[i].H*Math.PI/180/this.tableData3[0].C33))/Math.PI),this.tableData2[i].K=this.tableData2[i].B*this.tableData2[i].D,a+=this.tableData2[i].K,this.tableData2[i].L=a-this.tableData2[i].K/2,"粘土"===this.tableData2[i].G1?(this.tableData2[i].M=this.tableData2[i].F/this.tableData2[i].L,this.tableData2[i].N=this.tableData2[i].M>1?.5*Math.pow(this.tableData2[i].M,-.25):.5*Math.pow(this.tableData2[i].M,-.5),this.tableData2[i].O=this.tableData2[i].N>1?1:this.tableData2[i].N,this.tableData2[i].P=this.tableData2[i].O*this.tableData2[i].F,this.tableData2[i].Q=9*this.tableData2[i].G):"砂土"===this.tableData2[i].G1&&(this.tableData2[i].S=this.tableData[i].G,this.tableData2[i].T=this.tableData[i].L,this.tableData2[i].U=this.tableData2[i].T/this.tableData3[0].C32,this.tableData2[i].V=this.tableData2[i].U*this.tableData2[i].L,this.tableData2[i].W=this.tableData[i].M,this.tableData2[i].X=Math.min(this.tableData2[i].V,this.tableData2[i].W),this.tableData2[i].Y=Math.pow(Math.tan(Math.PI/180*(45+this.tableData2[i].J/2)),2)*Math.exp(Math.PI*Math.tan(Math.PI/180*this.tableData2[i].J)),this.tableData2[i].Z=this.tableData[i].N,this.tableData2[i].AA=this.tableData2[i].Z/parseFloat(this.tableData3[0].C33),this.tableData2[i].AB=Math.min(this.tableData2[i].Y,this.tableData2[i].AA),this.tableData2[i].AC=this.tableData2[i].AB*this.tableData2[i].L/1e3,this.tableData2[i].AD=this.tableData[i].O,this.tableData2[i].AE=1e3*Math.min(this.tableData2[i].AC,this.tableData2[i].AD)),this.tableData2[i].AI=parseFloat(this.tableData3[0].AI),this.tableData2[i].AO=parseFloat(this.tableData3[0].AO),this.tableData2[i].AF=null!=parseFloat(this.tableData1[0].L)&&null!=this.tableData2[i].B?Math.PI*parseFloat(this.tableData1[0].L)*this.tableData2[i].B:null,this.tableData2[i].AG=null!=this.tableData1[0].N&&null!=this.tableData2[i].B?Math.PI*this.tableData1[0].N*this.tableData2[i].B:null,"砂土"===this.tableData2[i].G1?(this.tableData2[i].AH=this.tableData2[i].X*this.tableData2[i].AF,this.tableData2[i].AJ=this.tableData2[i].X*this.tableData2[i].AG*this.tableData2[i].AI):"粘土"===this.tableData2[i].G1&&(this.tableData2[i].AH=this.tableData2[i].P*this.tableData2[i].AF,this.tableData2[i].AJ=this.tableData2[i].P*this.tableData2[i].AG*this.tableData2[i].AI),e+=null!==(c=this.tableData2[i].AH)&&void 0!==c?c:0,l+=null!==(b=this.tableData2[i].AJ)&&void 0!==b?b:0,this.tableData2[i].AK=e,this.tableData2[i].AL=l,this.tableData2[i].AM=null!=parseFloat(this.tableData1[0].L)&&null!=this.tableData1[0].N?Math.PI*(Math.pow(parseFloat(this.tableData1[0].L),2)-Math.pow(this.tableData1[0].N,2))/4:null,"粘土"===this.tableData2[i].G1?this.tableData2[i].AN=this.tableData2[i].Q*this.tableData2[i].AM:"砂土"===this.tableData2[i].G1&&(this.tableData2[i].AN=this.tableData2[i].AE*this.tableData2[i].AM),this.tableData2[i].AP=null!=parseFloat(this.tableData1[0].L)?Math.PI*Math.pow(parseFloat(this.tableData1[0].L),2)/4*this.tableData2[i].AO:null,"粘土"===this.tableData2[i].G1?this.tableData2[i].AQ=this.tableData2[i].Q*this.tableData2[i].AP:"砂土"===this.tableData2[i].G1&&(this.tableData2[i].AQ=this.tableData2[i].AE*this.tableData2[i].AP),this.tableData2[i].AR=(null!==(h=this.tableData2[i].AK)&&void 0!==h?h:0)+(null!==(u=this.tableData2[i].AL)&&void 0!==u?u:0),this.tableData2[i].AS=null!=this.tableData2[i].AK?this.tableData2[i].AK/1e3:null,this.tableData2[i].AT=(this.tableData2[i].AK+this.tableData2[i].AN+this.tableData2[i].AL)/1e3,this.tableData2[i].AU=(this.tableData2[i].AK+this.tableData2[i].AQ)/1e3,this.tableData2[i].AV=Math.min(this.tableData2[i].AT,this.tableData2[i].AU),this.tableData2[i].AW=t}},linearInterpolate:function(t,a){if(!t||0===t.length)return null;for(var e=Object(i["a"])(t).sort((function(t,a){return t.AW-a.AW})),l=0;l<e.length-1;l++){var n=e[l].AW,s=e[l+1].AW,r=e[l].AV,o=e[l+1].AV;if(a>=n&&a<=s)return r+(a-n)/(s-n)*(o-r)}return a<e[0].AW?e[0].AV:a>e[e.length-1].AW?e[e.length-1].AV:null},downloadSample:function(){var t="/templates//4input_sample.xlsx",a=document.createElement("a");a.href=t,a.download="桩竖向承载力计算导入模板.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a)},uploadExcel:function(t){var a=this,e=t.target.files[0];if(e){var l=new FileReader;l.onload=function(t){var e=t.target.result,l=c["read"](e,{type:"binary"}),n=l.SheetNames[0],i=l.Sheets[n],s=c["utils"].sheet_to_json(i);console.log("jsonData",s),a.tableData=s.map((function(t){return{A:null!=t["层号"]?t["层号"]:"",B:null!=t["土壤类型"]?t["土壤类型"]:"",C:null!=t["土层描述"]?t["土层描述"]:"",D:null!=t["深度/m层顶"]?t["深度/m层顶"]:"",E:null!=t["深度/m层底"]?t["深度/m层底"]:"",F:null!=t["层厚/m"]?t["层厚/m"]:"",G:null!=t["相对密实度/%"]?t["相对密实度/%"]:"",H:null!=t["有效重度kN/m3"]?t["有效重度kN/m3"]:"",I:null!=t["设计抗剪强度kPa层顶"]?t["设计抗剪强度kPa层顶"]:"",J:null!=t["设计抗剪强度kPa层底"]?t["设计抗剪强度kPa层底"]:"",K:null!=t["内摩擦角"]?t["内摩擦角"]:"",L:null!=t["侧阻力参数β（砂土/查表）"]?t["侧阻力参数β（砂土/查表）"]:"",M:null!=t["侧摩阻力限值fmax/kpa"]?t["侧摩阻力限值fmax/kpa"]:"",N:null!=t["Nq（砂土/查表）"]?t["Nq（砂土/查表）"]:"",O:null!=t["端阻力限值qmax/kpa"]?t["端阻力限值qmax/kpa"]:""}})),console.log("this.tableData",a.tableData),a.$message.success("Excel数据导入成功！"),a.calculateTable2(),a.load(),a.$refs.excelInput.value=""},l.readAsBinaryString(e)}else this.$message.warning("请先选择文件！")},JumpToPdf:function(){console.log("pdf跳转"),this.pdfName="1_4",this.showPdf=!0}}},h=b,u=e("2877"),d=Object(u["a"])(h,l,n,!1,null,null,null);a["default"]=d.exports},cc45:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pdf-viewer"},[e("div",{staticClass:"controls"},[e("button",{attrs:{disabled:t.pageNum<=1},on:{click:t.prevPage}},[t._v("上一页")]),e("span",[t._v("第 "+t._s(t.pageNum)+" / "+t._s(t.totalPages)+" 页")]),e("button",{attrs:{disabled:t.pageNum>=t.totalPages},on:{click:t.nextPage}},[t._v("下一页")]),e("button",{on:{click:t.zoomOut}},[t._v("缩小")]),e("span",[t._v("缩放: "+t._s((100*t.scale).toFixed(0))+"%")]),e("button",{on:{click:t.zoomIn}},[t._v("放大")]),e("button",{on:{click:function(a){return t.$emit("close")}}},[t._v("关闭")])]),e("canvas",{ref:"pdfCanvas"})])},n=[],i=e("c14f"),s=e("1da1"),r=e("f9cb"),o=e("8658"),c=e.n(o);r["GlobalWorkerOptions"].workerSrc=c.a;var b={name:"PdfViewer",props:{pdfName:{type:String,required:!0}},data:function(){return{pdfDoc:null,pageNum:1,totalPages:0,scale:1}},watch:{pdfName:"loadPdf"},mounted:function(){this.loadPdf()},methods:{loadPdf:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function a(){var e,l;return Object(i["a"])().w((function(a){while(1)switch(a.p=a.n){case 0:return e="/pdf/".concat(t.pdfName,".pdf"),a.p=1,a.n=2,r["getDocument"](e).promise;case 2:t.pdfDoc=a.v,t.totalPages=t.pdfDoc.numPages,t.pageNum=1,t.renderPage(),a.n=4;break;case 3:a.p=3,l=a.v,console.error("加载 PDF 出错:",l);case 4:return a.a(2)}}),a,null,[[1,3]])})))()},renderPage:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function a(){var e,l,n,s,r;return Object(i["a"])().w((function(a){while(1)switch(a.n){case 0:return a.n=1,t.pdfDoc.getPage(t.pageNum);case 1:return e=a.v,l=e.getViewport({scale:t.scale}),n=t.$refs.pdfCanvas,s=n.getContext("2d"),n.height=l.height,n.width=l.width,r={canvasContext:s,viewport:l},a.n=2,e.render(r).promise;case 2:return a.a(2)}}),a)})))()},prevPage:function(){this.pageNum>1&&(this.pageNum--,this.renderPage())},nextPage:function(){this.pageNum<this.totalPages&&(this.pageNum++,this.renderPage())},zoomIn:function(){this.scale+=.2,this.renderPage()},zoomOut:function(){this.scale>.4&&(this.scale-=.2,this.renderPage())}}},h=b,u=(e("0e4b"),e("2877")),d=Object(u["a"])(h,l,n,!1,null,"73facc5c",null);a["default"]=d.exports}}]);